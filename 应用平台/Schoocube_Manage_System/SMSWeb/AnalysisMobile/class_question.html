<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <title>问卷调查</title>
    <!--图标样式-->
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/reset.css" />
    <link rel="stylesheet" type="text/css" href="/css/common.css" />
    <link rel="stylesheet" type="text/css" href="/css/repository.css" />
    <link rel="stylesheet" type="text/css" href="/css/onlinetest.css" />
    <script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>
    <!--[if IE]>
    <script src="/js/html5.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/js/menu_top.js"></script>
    <script type="text/javascript" src="/Scripts/FusionChart/js/fusioncharts.js"></script>
    <script src="/Scripts/echarts-all.js"></script>
</head>
<body>
    <div class="onlinetest_item pr ">
        <div class="bordshadrad" style="background: #fff;padding:10px;">
            <div class="stytem_select clearfix">
                <div class="fl" style="margin-top:5px;">
                    <label style="float:left;line-height:38px;display:block;">图表类型：</label>
                    <select class="select" id="select_type">
                        <option value="1" selected>3D</option>
                        <option value="2">2D</option>
                    </select>
                </div>
            </div>
            <div id="divPieChart" align="center" style="width:100%;height:300px;"></div>
            <div class="wrap">
                <div class="distributed fr">
                    <a href="javascript:void(0);">导出数据</a>
                </div>
                <table>
                    <caption style="line-height: 40px;text-align:center;font-weight: bold;">问卷调查</caption>
                    <thead>
                        <tr>
                            <th>姓名</th>
                            <th>分数</th>
                            <th>分数段</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>罗秋香</td>
                            <td>100分</td>
                            <td>100分</td>
                        </tr>
                        <tr>
                            <td>赵灵可</td>
                            <td>96</td>
                            <td>90-99</td>
                        </tr>
                        <tr>
                            <td>谢章峰</td>
                            <td>93</td>
                            <td>90-99</td>
                        </tr>
                        <tr>
                            <td>张红</td>
                            <td>91</td>
                            <td>90-99</td>
                        </tr>
                        <tr>
                            <td>胡歌</td>
                            <td>89</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>张琳</td>
                            <td>88</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>石琳</td>
                            <td>87</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>韩寒</td>
                            <td>84</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>王丽</td>
                            <td>84</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>左义</td>
                            <td>82</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>袁熙</td>
                            <td>81</td>
                            <td>80-89</td>
                        </tr>
                        <tr>
                            <td>唐叶</td>
                            <td>78</td>
                            <td>70-79</td>
                        </tr>
                        <tr>
                            <td>郝旭</td>
                            <td>76</td>
                            <td>70-79</td>
                        </tr>
                        <tr>
                            <td>林彤</td>
                            <td>75</td>
                            <td>70-79</td>
                        </tr>
                        <tr>
                            <td>方晓</td>
                            <td>74</td>
                            <td>70-79</td>

                        </tr>
                        <tr>
                            <td>王小明</td>
                            <td>74</td>
                            <td>70-79</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script>
        function initChart() {
            var xml = '<chart caption="问卷调查" numberSuffix="个" ><set value="1" label="100分" color="AFD8F8" /><set value="3" label="90-99" color="F6BD0F" /><set value="7" label="80-89" color="8BBA00" /><set value="5" label="70-79" color="AFD8F8" /></chart>';
            var myChart = new FusionCharts("/FusionCharts/Swf/Column3D.swf", "myChartId_02", '100%', "300");
            myChart.setDataXML(xml);
            myChart.render("divPieChart");
        }
        initChart();
        $('#select_type').change(function () {
            var val = $(this).val();
            if (val == 1) {
                initChart();
            } else if (val == 2) {
                var myChart = echarts.init(document.getElementById('divPieChart'));
                option = {
                    title: {
                        text: '问卷调查',
                        x: 'center'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    calculable: true,
                    xAxis: [
                        {
                            type: 'category',
                            data: ['100分', '90-99', '80-89', '70-79']
                        }
                    ],
                    yAxis: [
                       {
                           type: 'value',
                           axisLabel: {
                               formatter: '{value} 个'
                           }
                       }
                    ],
                    series: [
                        {
                            name: '问卷调查',
                            type: 'bar',
                            data: [1, 3, 7, 5],

                        },

                    ]
                };
                // 使用刚指定的配置项和数据显示图表。
                myChart.setOption(option);
            }
        })
    </script>
</body>
</html>
